{"version":3,"file":"thisissoon-angular-inviewport.js","sources":["@thisissoon/angular-inviewport/app/window/window-token.ts","@thisissoon/angular-inviewport/app/in-viewport/in-viewport.directive.ts","@thisissoon/angular-inviewport/app/window/window-mock.ts","@thisissoon/angular-inviewport/app/in-viewport/in-viewport.module.ts"],"names":[],"mappings":"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AAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,ACnEA,AAeA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAVA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA","sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const WINDOW = new InjectionToken<Window>('WINDOW', {\n  providedIn: 'root',\n  factory: () => window\n});\n","import {\n  Directive,\n  ElementRef,\n  HostBinding,\n  EventEmitter,\n  Output,\n  OnDestroy,\n  AfterViewInit,\n  Inject,\n  Input,\n  OnInit\n} from '@angular/core';\nimport { WINDOW } from '../window/window-token';\n\n/**\n * A simple lightweight library for Angular with that detects when an\n * element is within the browsers viewport and adds a `in-viewport` or\n * `not-in-viewport` class to the element.\n *\n * @example\n * ```html\n * <p\n *  class=\"foo\"\n *  snInViewport\n *  (inViewportChange)=\"myEventHandler($event)\">\n *  Amet tempor excepteur occaecat nulla.\n * </p>\n * ```\n */\n// @dynamic\n@Directive({\n  selector: '[snInViewport]',\n  exportAs: 'snInViewport'\n})\nexport class InViewportDirective implements AfterViewInit, OnDestroy, OnInit {\n  private inViewport: boolean;\n  private hasIntersectionObserver: boolean;\n  @Input()\n  inViewportOptions: IntersectionObserverInit;\n  @Output()\n  inViewportChange = new EventEmitter<boolean>();\n  observer: IntersectionObserver;\n\n  @HostBinding('class.sn-viewport--in')\n  get isInViewport(): boolean {\n    return this.inViewport;\n  }\n\n  @HostBinding('class.sn-viewport--out')\n  get isNotInViewport(): boolean {\n    return !this.inViewport;\n  }\n\n  constructor(private el: ElementRef, @Inject(WINDOW) private window: Window) {\n    this.hasIntersectionObserver = this.intersectionObserverFeatureDetection();\n  }\n\n  ngOnInit() {\n    if (!this.hasIntersectionObserver) {\n      this.inViewport = true;\n      this.inViewportChange.emit(this.inViewport);\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.hasIntersectionObserver) {\n      const IntersectionObserver = this.window['IntersectionObserver'];\n      this.observer = new IntersectionObserver(\n        this.intersectionObserverCallback.bind(this),\n        this.inViewportOptions\n      );\n\n      this.observer.observe(this.el.nativeElement);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.observer) {\n      this.observer.unobserve(this.el.nativeElement);\n    }\n  }\n\n  intersectionObserverCallback(entries: IntersectionObserverEntry[]) {\n    entries.forEach(entry => {\n      if (this.inViewport === entry.isIntersecting) return;\n      this.inViewport = entry.isIntersecting;\n      this.inViewportChange.emit(this.inViewport);\n    });\n  }\n\n  private intersectionObserverFeatureDetection() {\n    // Exits early if all IntersectionObserver and IntersectionObserverEntry\n    // features are natively supported.\n    if (\n      'IntersectionObserver' in this.window &&\n      'IntersectionObserverEntry' in this.window\n    ) {\n      // Minimal polyfill for Edge 15's lack of `isIntersecting`\n      // See: https://github.com/w3c/IntersectionObserver/issues/211\n      if (\n        !(\n          'isIntersecting' in\n          this.window['IntersectionObserverEntry']['prototype']\n        )\n      ) {\n        Object.defineProperty(\n          this.window['IntersectionObserverEntry']['prototype'],\n          'isIntersecting',\n          {\n            get: function() {\n              return this.intersectionRatio > 0;\n            }\n          }\n        );\n      }\n      return true;\n    }\n    return false;\n  }\n}\n","export const WINDOW_MOCK_WITHOUT_INTERSECTION_OBSERVER = {\n  closed: null,\n  defaultStatus: null,\n  document: null,\n  frameElement: null,\n  frames: null,\n  history: null,\n  innerHeight: null,\n  innerWidth: null,\n  length: null,\n  localStorage: null,\n  location: null,\n  name: null,\n  navigator: null,\n  opener: null,\n  outerHeight: null,\n  outerWidth: null,\n  pageXOffset: null,\n  pageYOffset: null,\n  parent: null,\n  screen: null,\n  screenLeft: null,\n  screenTop: null,\n  screenX: null,\n  screenY: null,\n  sessionStorage: null,\n  scrollX: null,\n  scrollY: null,\n  self: null,\n  status: null,\n  top: null,\n  addEventListener: (...args) => null,\n  alert: (...args) => null,\n  atob: (...args) => null,\n  blur: (...args) => null,\n  btoa: (...args) => null,\n  clearInterval: (...args) => null,\n  clearTimeout: (...args) => null,\n  close: (...args) => null,\n  confirm: (...args) => null,\n  focus: (...args) => null,\n  getComputedStyle: (...args) => null,\n  getSelection: (...args) => null,\n  matchMedia: (...args) => null,\n  moveBy: (...args) => null,\n  moveTo: (...args) => null,\n  open: (...args) => null,\n  print: (...args) => null,\n  prompt: (...args) => null,\n  resizeBy: (...args) => null,\n  resizeTo: (...args) => null,\n  removeEventListener: (...args) => null,\n  scroll: (...args) => null,\n  scrollBy: (...args) => null,\n  scrollTo: (...args) => null,\n  setInterval: (...args) => null,\n  setTimeout: (...args) => null,\n  stop: (...args) => null\n};\n\nexport const WINDOW_MOCK = {\n  ...WINDOW_MOCK_WITHOUT_INTERSECTION_OBSERVER,\n  IntersectionObserver: function(...args) {\n    this.observe = () => null;\n    this.unobserve = () => null;\n  },\n  IntersectionObserverEntry: class IntersectionObserverEntryMock {}\n};\n","import { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { InViewportDirective } from './in-viewport.directive';\nimport { WINDOW } from '../window/window-token';\nimport { WINDOW_MOCK } from '../window/window-mock';\n\n/**\n * A simple lightweight library for Angular with other dependencies\n * that detects when an element is within the browsers viewport and adds a\n * sn-viewport--in or sn-viewport--out class to the element.\n */\n@NgModule({\n  declarations: [InViewportDirective],\n  exports: [InViewportDirective]\n})\nexport class InViewportModule {\n  static forServer(): ModuleWithProviders {\n    return {\n      ngModule: InViewportModule,\n      providers: [{ provide: WINDOW, useValue: WINDOW_MOCK }]\n    };\n  }\n}\n"]}